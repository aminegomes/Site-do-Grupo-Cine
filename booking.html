<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="global.css" />
  <title>Reserva</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!-- CSS Local -->
    <link rel="stylesheet" href="./css/global.css">

    <style>
      .container {
          margin-top: 30px;
      }
      .seating-chart {
          display: grid;
          grid-template-columns: 50px repeat(10, 1fr) 50px;
          gap: 5px;
          align-items: center;
          justify-items: center;
          margin-top: 30px;
      }
      .seat {
          width: 30px;
          height: 30px;
          background-color: #d3d3d3;
          border-radius: 5px;
          cursor: pointer;
          transition: background-color 0.3s;
      }
      .seat.selected {
          background-color: #4caf50;
      }
      .seat.booked {
          background-color: #f44336;
          cursor: not-allowed;
      }
      .seat.disabled {
          background-color: #bdbdbd;
      }
      .seat:hover {
          background-color: #a5d6a7;
      }
      .seat-label {
          text-align: center;
      }
      .column-label {
          font-weight: bold;
      }
      .row-label {
          font-weight: bold;
      }
      .seat-price {
          margin-top: 20px;
      }
      .total-price {
          font-weight: bold;
          font-size: 20px;
      }
      .btn-reserve {
          margin-top: 20px;
      }
  </style>

</head>

<body>


  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Cadeiras Automatizadas</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Menu</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="movies.html">Programação</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="booking.html">Reservar</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container">
    <h2 class="text-center mb-4">Escolha seu Assento</h2>
    <div class="seating-chart">
        <!-- Letras das colunas -->
        <div></div>
        <div class="column-label">A</div>
        <div class="column-label">B</div>
        <div class="column-label">C</div>
        <div class="column-label">D</div>
        <div class="column-label">E</div>
        <div class="column-label">F</div>
        <div class="column-label">G</div>
        <div class="column-label">H</div>
        <div class="column-label">I</div>
        <div class="column-label">J</div>
        <div class="column-label">K</div>
        <div></div>

        <!-- Assentos - Linha 1 a Linha K -->
        <!-- Linha A -->
        <div class="row-label">A</div>
        <div class="seat"></div> <div class="seat"></div> <div class="seat"></div> <div class="seat"></div>
        <div class="seat"></div> <div class="seat"></div> <div class="seat"></div> <div class="seat"></div>
        <div class="seat"></div> <div class="seat"></div> <div class="seat"></div>
        
        <!-- Linha B -->
        <div class="row-label">B</div>
        <div class="seat"></div> <div class="seat"></div> <div class="seat"></div> <div class="seat"></div>
        <div class="seat"></div> <div class="seat"></div> <div class="seat"></div> <div class="seat"></div>
        <div class="seat"></div> <div class="seat"></div> <div class="seat"></div>
        
        <!-- Outras Linhas de Assentos -->
        <!-- O código para outras linhas pode ser copiado e alterado conforme necessário -->

        <!-- Assentos Cadeirante -->
        <div class="seat disabled"></div> <!-- Exemplo de cadeira de cadeirante -->
        <div class="seat disabled"></div> <!-- Exemplo de cadeira de cadeirante -->

        <!-- Assentos Reservados -->
        <div class="seat booked"></div> <!-- Exemplo de cadeira reservada -->
        
        <!-- Linha K com escadas -->
        <div class="row-label">K</div>
        <div class="seat"></div> <div class="seat"></div> <div class="seat"></div> <div class="seat"></div>
        <div class="seat"></div> <div class="seat"></div> <div class="seat"></div> <div class="seat"></div>
        <div class="seat"></div> <div class="seat booked"></div> <div class="seat booked"></div>

    </div>

    <div class="seat-price">
        <p>Total: <span id="totalPrice" class="total-price">R$ 0,00</span></p>
    </div>

    <button class="btn btn-primary btn-reserve" id="reserveButton" disabled>Reservar</button>
</div>

<!-- Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
  const seats = document.querySelectorAll('.seat');
  const totalPriceElem = document.getElementById('totalPrice');
  const reserveButton = document.getElementById('reserveButton');
  let totalPrice = 0;
  const ticketPrice = 15; // Preço do ingresso agora é R$ 15,00

  seats.forEach(seat => {
      seat.addEventListener('click', function() {
          if (seat.classList.contains('booked') || seat.classList.contains('disabled')) {
              return; // Não permite selecionar assentos já reservados ou de cadeirante
          }

          if (seat.classList.contains('selected')) {
              seat.classList.remove('selected');
              totalPrice -= ticketPrice; // Subtrai o preço do ingresso
          } else {
              seat.classList.add('selected');
              totalPrice += ticketPrice; // Adiciona o preço do ingresso
          }

          totalPriceElem.textContent = `R$ ${totalPrice.toFixed(2)}`;

          // Habilitar/desabilitar o botão de reserva
          reserveButton.disabled = totalPrice === 0;
      });
  });

  reserveButton.addEventListener('click', function() {
      window.location.href = "pagina-reservada.html"; // Redirecionar para a página de confirmação
  });
</script>


  <!-- Rodapé -->
  <footer class="bg-light text-center py-4">
    <p>© 2024 Automatização de Cadeiras de Cinema. Todos os direitos reservados.</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>